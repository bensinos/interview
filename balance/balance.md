# 负载均衡算法

复杂均衡算法在微服务的架构中，占据非常重要的位置。比如，我们有用户服务3个，那么我们在进行请求分发的时候，应该选择哪一个呢？应该如何选择，让每台服务器的请求是均衡的？

负载均衡算法，一般分为两类，一类是静态负载均衡算法，另一类是动态负载均衡算法。

## 静态负载均衡算法

静态负载均衡算法，依靠统计学上的“最合适”

### 轮训

- 实现过程中，要注意并发安全，使用锁来管理随机数的生成
- 每个服务都依次调用，请求分配很均衡，但是实际部署中，每台服务器的处理能力是不同的，因此，会造成有个服务器负载很高，有的则很空闲
- [见代码](./round_robin.go)

### 平滑加权轮训

- 平滑加权是在轮询的基础上，加上了权重，让请求可以根据，每台服务器的权重，为每台服务器分配不同的请求量，Nginx的http负载算法，就是平滑加权轮训
- [见代码](./smooth_round_robin.go)

### 随机

### 加权随机
